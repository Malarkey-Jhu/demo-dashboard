"use strict";(self.webpackChunkalluxio_dashboard=self.webpackChunkalluxio_dashboard||[]).push([[813],{24476:function(K,v,t){var C=t(35361),c=t(50959),E=t(9455),j=t(92260),T=function(L,g){return c.createElement(j.Z,(0,C.Z)((0,C.Z)({},L),{},{ref:g,icon:E.Z}))};T.displayName="InfoCircleOutlined",v.Z=c.forwardRef(T)},32e3:function(K,v,t){t.r(v),t.d(v,{default:function(){return le}});var C=t(48305),c=t.n(C),E=t(24476),j=t(36735),T=t(54748),x=t(50159),L=t(15010),g=t(17025),Z=t(69601),u=t(50925),D=t(41268),I=t(80312),k=t(94675),e=t(11527),z=function(n){var a=n.actionType,o=n.onFinish,i=n.onFinishFailed,l=n.initialValues;return(0,e.jsxs)(u.Z,{labelCol:{span:24},wrapperCol:{span:24},initialValues:l,onFinish:o,onFinishFailed:i,autoComplete:"off",children:[(0,e.jsx)(u.Z.Item,{label:"Path",name:"path",rules:[{required:!0,message:"Please input your path!"}],children:(0,e.jsx)(D.Z,{placeholder:"/example/path",disabled:a==="DELETE"})}),(0,e.jsx)(u.Z.Item,{label:"Quota (bytes)",name:"quotaBytes",rules:[{required:!0,message:"Please input your quota (bytes)!"}],children:(0,e.jsx)(I.Z,{style:{width:"100%"},disabled:a==="DELETE"})}),(0,e.jsx)(u.Z.Item,{label:null,wrapperCol:{offset:10},children:(0,e.jsxs)(x.ZP,{type:"primary",htmlType:"submit",style:{marginTop:10},children:[a==="CREATE"&&"Create",a==="UPDATE"&&"Update",a==="DELETE"&&"Delete"]})})]},"".concat(a,"-").concat(l.path))},G=function(n){var a=n.isModalOpen,o=n.handleOk,i=n.handleCancel,l=n.actionType,f=n.initialValues,p=(0,Z.dQ)(),y=p.token;return(0,e.jsx)(k.Z,{title:(0,e.jsxs)("div",{children:[(0,e.jsx)(g.Z,{style:{color:y.colorWarning}}),(0,e.jsxs)("span",{style:{marginLeft:10},children:[l==="CREATE"&&"Create Quota",l==="UPDATE"&&"Update Quota",l==="DELETE"&&"Delete Quota"]})]}),open:a,onOk:o,onCancel:i,footer:null,destroyOnClose:!0,children:(0,e.jsx)("div",{style:{padding:"10px 20px 0 20px"},children:(0,e.jsx)(z,{actionType:l,onFinish:o,onFinishFailed:i,initialValues:f})})})},N=G,$=function(n){var a=n.actionType,o=n.onFinish,i=n.onFinishFailed,l=n.initialValues;return(0,e.jsxs)(u.Z,{labelCol:{span:24},wrapperCol:{span:24},initialValues:l,onFinish:o,onFinishFailed:i,autoComplete:"off",children:[(0,e.jsx)(u.Z.Item,{label:"Path",name:"path",rules:[{required:!0,message:"Please input your path!"}],children:(0,e.jsx)(D.Z,{placeholder:"/example/path",disabled:a==="DELETE"})}),(0,e.jsx)(u.Z.Item,{label:"TTL (seconds)",name:"ttl",rules:[{required:!0,message:"Please input your TTL (seconds)!"}],children:(0,e.jsx)(I.Z,{style:{width:"100%"},disabled:a==="DELETE"})}),(0,e.jsx)(u.Z.Item,{label:null,wrapperCol:{offset:10},children:(0,e.jsxs)(x.ZP,{type:"primary",htmlType:"submit",style:{marginTop:10},children:[a==="CREATE"&&"Create",a==="UPDATE"&&"Update",a==="DELETE"&&"Delete"]})})]},"".concat(a,"-").concat(l.path))},H=function(n){var a=n.isModalOpen,o=n.handleOk,i=n.handleCancel,l=n.actionType,f=n.initialValues,p=(0,Z.dQ)(),y=p.token;return(0,e.jsx)(k.Z,{title:(0,e.jsxs)("div",{children:[(0,e.jsx)(g.Z,{style:{color:y.colorWarning}}),(0,e.jsxs)("span",{style:{marginLeft:10},children:[l==="CREATE"&&"Create TTL",l==="UPDATE"&&"Update TTL",l==="DELETE"&&"Delete TTL"]})]}),open:a,onOk:o,onCancel:i,footer:null,destroyOnClose:!0,children:(0,e.jsx)("div",{style:{padding:"10px 20px 0 20px"},children:(0,e.jsx)($,{actionType:l,onFinish:o,onFinishFailed:i,initialValues:f})})})},J=H,m=t(50959),X=t(19450),Y=t(90228),P=t.n(Y),q=t(26068),M=t.n(q),w=t(87999),_=t.n(w),ee=t(72518);function te(h,n){return F.apply(this,arguments)}function F(){return F=_()(P()().mark(function h(n,a){return P()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,ee.request)("/api/v1/quota",M()({method:"GET",params:M()({},n)},a||{})));case 1:case"end":return i.stop()}},h)})),F.apply(this,arguments)}var ne=[{key:"1",path:"/data/dir/to/path",ttl:600},{key:"2",path:"/data/dir/to/path2",ttl:400},{key:"3",path:"/another/path",ttl:300}],ae=function(){var n=(0,m.useRef)(),a=(0,m.useState)(null),o=c()(a,2),i=o[0],l=o[1],f=(0,m.useState)(null),p=c()(f,2),y=p[0],A=p[1],ie=(0,m.useState)({path:"",quotaBytes:0}),S=c()(ie,2),se=S[0],B=S[1],oe=(0,m.useState)({path:"",ttl:0}),Q=c()(oe,2),re=Q[0],R=Q[1],b=function(d,s){l(d),B(s)},V=function(d,s){A(d),R(s)},U=function(d){d==="quota"?l(null):A(null)},W=function(d){d==="quota"?l(null):A(null)},de=function(){l("CREATE"),B({path:"",quotaBytes:0})},ue=function(){A("CREATE"),R({path:"",ttl:0})},ce=[{title:"Path",dataIndex:"path",key:"path"},{title:"State",dataIndex:"state",key:"state"},{title:"Quota/Used (MB)",dataIndex:"quotaBytes",key:"quotaBytes",render:function(d,s){return(0,e.jsxs)(e.Fragment,{children:[(s.usedBytes/1024/1024).toFixed(2)," MB ",(0,e.jsx)("br",{})," ",(s.usedBytes/1024/1024).toFixed(2)," MB"]})}},{title:"Reserved (MB)",dataIndex:"reservedBytes",key:"reservedBytes",render:function(d,s){return(0,e.jsxs)(e.Fragment,{children:[(s.reservedBytes/1024/1024).toFixed(2)," MB"]})}},{title:"Action",key:"action",width:"200px",render:function(d,s){return(0,e.jsxs)(j.Z,{size:"middle",children:[(0,e.jsx)("a",{onClick:function(){return b("UPDATE",s)},children:"Edit"}),(0,e.jsx)("a",{onClick:function(){return b("DELETE",s)},children:"Delete"})]})}}],he=[{title:"Path",dataIndex:"path",key:"path"},{title:"TTL (Seconds)",dataIndex:"ttl",key:"ttl"},{title:"Action",key:"action",width:"200px",render:function(d,s){return(0,e.jsxs)(j.Z,{size:"middle",children:[(0,e.jsx)("a",{onClick:function(){return V("UPDATE",s)},children:"Edit"}),(0,e.jsx)("a",{onClick:function(){return V("DELETE",s)},children:"Delete"})]})}}];return(0,e.jsxs)("div",{style:{padding:24},children:[(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:16},children:[(0,e.jsx)("div",{style:{display:"inline-block",fontSize:24,fontWeight:500},children:"Quota"}),(0,e.jsx)("a",{href:"https://documentation.alluxio.io/ee-ai-en/reference/user-cli#quota",target:"_blank",rel:"noreferrer",children:(0,e.jsx)(E.Z,{style:{marginLeft:8}})})]}),(0,e.jsx)(T.Z.Paragraph,{children:"All quota policy definitions in Alluxio system"})]}),(0,e.jsx)(x.ZP,{type:"default",style:{float:"right",marginBottom:16},onClick:de,children:"Create Quota"})]}),(0,e.jsx)("br",{}),(0,e.jsx)("br",{}),(0,e.jsx)(X.Z,{actionRef:n,rowKey:"path",search:!1,options:!1,form:{layout:"vertical",labelCol:{span:12},wrapperCol:{span:24}},cardProps:{bodyStyle:{padding:0}},request:te,columns:ce,pagination:!1}),(0,e.jsx)(N,{isModalOpen:i!==null,handleOk:function(){return U("quota")},handleCancel:function(){return W("quota")},actionType:i||"CREATE",initialValues:se}),(0,e.jsx)("br",{}),(0,e.jsx)("br",{}),(0,e.jsx)("br",{}),(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:16},children:[(0,e.jsx)("div",{style:{display:"inline-block",fontSize:24,fontWeight:500},children:"TTL"}),(0,e.jsx)("a",{href:"https://documentation.alluxio.io/ee-ai-en/reference/user-cli#ttl",target:"_blank",rel:"noreferrer",children:(0,e.jsx)(E.Z,{style:{marginLeft:8}})})]}),(0,e.jsx)(T.Z.Paragraph,{children:"All TTL policy definitions in Alluxio system"})]}),(0,e.jsx)(x.ZP,{onClick:ue,type:"default",style:{float:"right",marginBottom:16},children:"Create TTL"})]}),(0,e.jsx)(L.Z,{dataSource:ne,columns:he,pagination:!1}),(0,e.jsx)(J,{isModalOpen:y!==null,handleOk:function(){return U("ttl")},handleCancel:function(){return W("ttl")},actionType:y||"CREATE",initialValues:re})]})},le=ae}}]);
